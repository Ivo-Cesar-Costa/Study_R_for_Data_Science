summarise(avg_delay1 = mean(arr_delay),
avg_delay2 = mean(arr_delay[arr_delay > 0]))
not_cancelled %>% group_by(dest) %>% summarise(distance_sd = sd(distance)) %>%
arrange(desc(distance_sd))
not_cancelled
not_cancelled %>% group_by(dest)
not_cancelled %>% group_by(dest) %>% summarise(distance_sd = sd(distance))
not_cancelled %>% group_by(dest) %>% summarise(distance_sd = sd(distance)) %>%
arrange(desc(distance_sd))
not_cancelled %>% group_by(dest) %>% summarise(distance_sd = sd(distance))
not_cancelled %>% group_by(dest) %>% summarise(distance_sd = sd(distance)) %>%
arrange(desc(distance_sd))
not_cancelled %>% group_by(year, month, day) %>%
summarise(flrst = min(dep_time),
last = max(dep_time))
not_cancelled
not_cancelled %>% group_by(year, month, day)
not_cancelled %>% group_by(year, month, day) %>%
summarise(flrst = min(dep_time),
last = max(dep_time))
not_cancelled
not_cancelled %>% group_by(year, month, day)
not_cancelled %>% group_by(year, month, day) %>%
summarise(first_dep = first(dep_time), last_dep = last(dep_time))
not_cancelled
not_cancelled %>% group_by(year, month, day)
not_cancelled %>% group_by(year, month, day) %>%
not_cancelled %>% group_by(year, month, day) %>%
mutate(r = min_rank(desc(dep_time)))
not_cancelled
not_cancelled
not_cancelled %>% group_by(year, month, day) %>%
mutate(r = min_rank(desc(dep_time)))
not_cancelled %>% group_by(year, month, day)
not_cancelled %>% group_by(year, month, day) %>%
summarise(first_dep = first(dep_time), last_dep = last(dep_time))
not_cancelled %>% group_by(year, month, day)
not_cancelled %>% group_by(year, month, day) %>%
mutate(r = min_rank(desc(dep_time)))
not_cancelled %>% group_by(year, month, day)
not_cancelled %>% group_by(year, month, day) %>%
mutate(r = min_rank(desc(dep_time)))
not_cancelled %>% group_by(year, month, day) %>%
mutate(r = min_rank(desc(dep_time))) %>% filter(r %in% range(r))
not_cancelled
not_cancelled %>% group_by(dest)
not_cancelled %>% group_by(dest) %>% summarise(carriers = n_distinct(carrier))
not_cancelled %>% group_by(dest) %>% summarise(carriers = n_distinct(carrier)) %>%
arrange(desc(carriers))
not_cancelled %>% count(dest)
not_cancelled %>% count(tailnum, wt = distance)
not_cancelled %>% group_by(year, month, day) %>% summarise(n_early = sum(dep_time < 500))
not_cancelled %>% group_by(year, month, day) %>%
not_cancelled %>% group_by(year, month, day) %>%
summarise(hour_per = mean(arr_delay > 60))
not_cancelled
not_cancelled %>% group_by(year, month, day) %>%
summarise(hour_per = mean(arr_delay > 60))
daily <- group_by(flights, year, month, day)
daily
(per_day <- summarise(daily, flights = n()))
(per_day <- summarise(per_day, flights = sum(flights))
(per_day <- summarise(daily, flights = n()))
(per_month <- summarise(per_day, flights = sum(flights)))
(per_month <- summarise(per_day, flights = sum(flights)))
(per_month <- summarise(per_day, flights = sum(flights))))
daily <- group_by(flights, year, month, day)
(per_day <- summarise(daily, flights = n()))
(per_month <- summarise(per_day, flights = sum(flights)))
daily %>% ungroup() %>% summarise(flights = n())
daily
daily %>% ungroup()
daily %>% ungroup() %>% summarise(flights = n())
not_cancelled %>% count(dest)
not_cancelled %>% sum(dest)
not_cancelled %>% sum(dest)
not_cancelled %>% summarise(sum(dest))
not_cancelled %>% summarise(dest)
not_cancelled %>% count(dest)
not_cancelled %>% summarise(dest, n = n())
not_cancelled %>% summarise(dest == "ABQ", n = n())
not_cancelled %>% group_by(dest) %>% summarise(n())
flights %>% group_by(carrier, dest) %>% summarise(n())
flights_sml %>% group_by(year, month, day) %>% filter(rank(desc(arr_delay)) < 10)
flights_sml
flights_sml
flights_sml <- select(flights, year : day, ends_with("delay"), distance, air_time)
flights_sml
flights_sml %>% group_by(year, month, day) %>% filter(rank(desc(arr_delay)) < 10)
popular_dest <- flights %>% group_by(dest) %>% filter(n() > 365)
flights %>% group_by(dest)
flights %>% group_by(dest) %>% filter(n() > 365)
popular_dest <- flights %>% group_by(dest) %>% filter(n() > 365)
select(popular_dest, dest)
popular_dest <- flights %>% group_by(dest) %>% filter(n() > 365)
popular_dest <- flights %>% group_by(dest) %>% filter(n() > 365)
popular_dest
popular_dest <- %>% filter(arr_delay > 0) %>%
popular_dests <- %>% filter(arr_delay > 0) %>%
popular_dests <- flights %>% group_by(dest) %>% filter(n() > 365)
popular_dests %>% filter(arr_delay > 0) %>%
mutate(prop_delay = arr_delay / sum(arr_delay)) %>%
select(year:day, dest, arr_delay, prop_delay)
popular_dests
popular_dests %>% filter(arr_delay > 0)
popular_dests %>% filter(arr_delay > 0) %>%
mutate(prop_delay = arr_delay / sum(arr_delay))
popular_dests %>% filter(arr_delay > 0) %>%
mutate(prop_delay = arr_delay / sum(arr_delay)) %>%
select(year:day, dest, arr_delay, prop_delay)
flights %>% group_by(tailnum) %>% summarise(sched_arr_time < 500)
flights %>% group_by(tailnum) %>% filter(sched_arr_time < 500)
flights %>% group_by(tailnum) %>% filter(sched_arr_time > 500)
flights %>% group_by(tailnum) %>% filter(dep_time > 500)
flights %>% group_by(tailnum) %>% filter(dep_time > 500) %>% select(air_time)
flights %>% group_by(tailnum) %>% filter(dep_time > 500) %>% select(dep_time, air_time)
flights %>% group_by(dest) %>% filter(dep_time < 500)
flights %>% group_by(dest) %>% filter(dep_time < 500) %>% select(dep_time)
flights %>% group_by(sched_dep_time, dep_time) %>% filter(atraso15 = sched_dep_time - dep_time) %>% select(atraso15 == 15)
flights %>% group_by(sched_dep_time, dep_time) %>% filter(atraso15 = (sched_dep_time - dep_time)) %>% select(atraso15 == 15)
flights %>% group_by(sched_dep_time, dep_time) %>% filter(atraso15 = (sched_dep_time - dep_time)) %>% select(atraso15 < 15)
flights %>% group_by(sched_dep_time, dep_time) %>% mutate(atraso15 = (sched_dep_time - dep_time)) %>% select(atraso15 < 15)
flights %>% group_by(sched_dep_time, dep_time) %>% mutate(atraso15 = sched_dep_time - dep_time) %>% select(atraso15 < 15)
flights %>% group_by(sched_dep_time, dep_time)
flights %>% group_by(sched_dep_time, dep_time) %>%
mutate(atraso15 = sched_dep_time - dep_time)
flights %>% group_by(sched_dep_time, dep_time) %>%
mutate(atraso15 = sched_dep_time - dep_time) %>% select(atraso15 < 15)
flights %>% group_by(sched_dep_time, dep_time) %>%
mutate((atraso15 = sched_dep_time - dep_time) < 15 )
flights %>% group_by(sched_dep_time, dep_time) %>%
mutate((atraso15 = sched_dep_time - dep_time) < 15 ) %>% select(atraso15)
flights %>% group_by(sched_dep_time, dep_time) %>%
mutate(atraso15 = sched_dep_time - dep_time ) %>% summarise(atraso15)
flights %>% group_by(sched_dep_time, dep_time) %>%
mutate(atraso15 = sched_dep_time - dep_time ) %>% summarise(atraso15 < 15)
flights %>% group_by(sched_dep_time, dep_time) %>%
mutate(atraso15 = sched_dep_time - dep_time ) %>% summarise(atraso15 < 15, na.rm = TRUE)
flights %>% group_by(sched_dep_time, dep_time) %>%
mutate(atraso15 = sched_dep_time - dep_time, na.rm = TRUE ) %>% summarise(atraso15 < 15)
flights %>% group_by(sched_dep_time, dep_time) %>%
mutate(atraso15 = sched_dep_time - dep_time, na.rm = FALSE ) %>% summarise(atraso15 < 15)
flights %>% group_by(sched_dep_time, dep_time, na.rm = TRUE) %>%
mutate(atraso15 = sched_dep_time - dep_time ) %>% summarise(atraso15 < 15)
flights %>% group_by(sched_dep_time, dep_time) %>%
mutate((atraso15 = sched_dep_time - dep_time)<15 ) %>% summarise(atraso15)
flights %>% group_by(sched_dep_time, dep_time) %>%
mutate(atraso15 = sched_dep_time - dep_time) %>% summarise(atraso151 = atraso15 < 15)
flights %>% group_by(sched_dep_time, dep_time) %>%
mutate(atraso15 = sched_dep_time - dep_time) %>% summarise(atraso151 = atraso15 < 15, na.rm = TRUE)
flights %>% group_by(sched_dep_time, dep_time) %>%
mutate(atraso15 = sched_dep_time - dep_time) %>% summarise(atraso151 = atraso15 < 15, na.rm =TRUE)
flights %>% group_by(sched_dep_time, dep_time) %>%
mutate(atraso15 = sched_dep_time - dep_time) %>% summarise(atraso151 = atraso15 < 15, na.rm =TRUE)
flights %>% group_by(sched_dep_time, dep_time) %>%
mutate(atraso15 = sched_dep_time - dep_time) %>% summarise(atraso151 = (atraso15 < 15), na.rm =TRUE)
flights %>% group_by(sched_dep_time, dep_time) %>%
mutate(atraso15 = sched_dep_time - dep_time) %>%
filter(atraso151 = atraso15 < 15, na.rm =TRUE)
flights %>% group_by(sched_dep_time, dep_time) %>%
mutate(atraso15 = sched_dep_time - dep_time) %>%
filter(atraso151 = (atraso15 < 15), na.rm =TRUE)
flights %>% group_by(sched_dep_time, dep_time) %>%
mutate(atraso15 = sched_dep_time - dep_time) %>%
filter(!is.na(atraso15))
flights %>% group_by(sched_dep_time, dep_time) %>%
mutate(atraso15 = sched_dep_time - dep_time) %>%
filter(!is.na(atraso15)) %>% summarise(atraso15)
flights %>% group_by(sched_dep_time, dep_time) %>%
mutate(atraso15 = sched_dep_time - dep_time) %>%
filter(!is.na(atraso15 < 15)) %>% summarise(atraso15)
flights %>% group_by(sched_dep_time, dep_time) %>%
mutate(atraso15 = sched_dep_time - dep_time) %>%
filter(!is.na(atraso15 == 15)) %>% summarise(atraso15)
voso <- flights %>% group_by(sched_dep_time, dep_time) %>%
mutate(atraso15 = sched_dep_time - dep_time) %>%
filter(!is.na(atraso15 == 15)) %>% summarise(atraso15)
flights %>% group_by(sched_dep_time, dep_time) %>%
mutate(atraso15 = sched_dep_time - dep_time) %>%
filter(!is.na(atraso15 == 15)) %>% summarise(atraso15)
voso <- flights %>% group_by(sched_dep_time, dep_time) %>%
mutate(atraso15 = sched_dep_time - dep_time) %>%
filter(!is.na(atraso15 == 15)) %>% summarise(atraso15)
voso <- flights %>% group_by(sched_dep_time, dep_time) %>%
mutate(atraso15 = sched_dep_time - dep_time) %>%
filter(!is.na(atraso15 == 15)) %>% summarise(atraso15)
voso <- flights %>% group_by(sched_dep_time, dep_time) %>%
mutate(atraso15 = sched_dep_time - dep_time) %>%
filter(!is.na(atraso15 < 15)) %>% summarise(atraso15)
flights %>% group_by(sched_dep_time, dep_time) %>%
mutate(atraso15 = sched_dep_time - dep_time) %>%
filter(!is.na(atraso15 < 15)) %>% summarise(atraso15)
flights %>% group_by(sched_dep_time, dep_time) %>%
mutate(atraso15 = sched_dep_time - dep_time) %>%
filter(!is.na(atraso15 > 15)) %>% summarise(atraso15)
flights %>% group_by(sched_dep_time, dep_time) %>%
mutate(atraso15 = sched_dep_time - dep_time) %>%
filter(!is.na(atraso15)) %>% summarise(atraso15 < 15)
flights %>% group_by(sched_dep_time, dep_time) %>%
mutate(atraso15 = sched_dep_time - dep_time) %>%
filter(!is.na(atraso15)) %>% filter(atraso15 < 15) %>% summarise(atraso15)
filter(!is.na(atraso15)) %>% filter(between(atraso15,0,15) %>% summarise(atraso15)
mutate(atraso15 = sched_dep_time - dep_time) %>%
filter(!is.na(atraso15)) %>% filter(between(atraso15,10,15) %>% summarise(atraso15)
flights %>% group_by(sched_dep_time, dep_time) %>%
flights %>% group_by(sched_dep_time, dep_time) %>%
mutate(atraso15 = sched_dep_time - dep_time) %>%
filter(!is.na(atraso15)) %>% filter(between(atraso15,0,15)) %>% summarise(atraso15)
flights %>% group_by(sched_dep_time, dep_time) %>%
mutate(atraso15 = sched_dep_time - dep_time) %>%
filter(!is.na(atraso15)) %>% filter(between(atraso15,10,15)) %>% summarise(atraso15)
library(nycflights13)
library(tidyverse)
flights
nycflights13::flights
View(flights)
filter(flights, month == 1, day == 1)
jan1 <- filter(flights, month == 1, day == 1)
jan1
(dec25 <- filter(flights, month == 12, day == 25))
filter(flights, month = 1)
filter(flights, month == 1, day == 1)
filter(flights, month == 1, day == 1)
jan1 <- filter(flights, month == 1, day == 1)
jan1
(dec25 <- filter(flights, month == 12, day == 25))
filter(flights, month = 1)
jan1 <- filter(flights, month == 1, day == 1)
jan1
(dec25 <- filter(flights, month == 12, day == 25))
filter(flights, month = 1)
filter(flights, month == 1, day == 1)
jan1 <- filter(flights, month == 1, day == 1)
jan1
(dec25 <- filter(flights, month == 12, day == 25))
filter(flights, month = 1)
flights %>% group_by(sched_dep_time, dep_time) %>%
mutate(atraso15 = sched_dep_time - dep_time) %>%
filter(!is.na(atraso15)) %>% filter(between(atraso15,10,15)) %>% summarise(atraso15)
flights %>% group_by(sched_dep_time, dep_time) %>%
mutate(atraso15 = sched_dep_time - dep_time) %>%
filter(!is.na(atraso15)) %>% filter(atraso15 == 15)) %>% summarise(atraso15)
flights %>% group_by(sched_dep_time, dep_time) %>%
mutate(atraso15 = sched_dep_time - dep_time) %>%
filter(!is.na(atraso15)) %>% filter(atraso15 == 15) %>% summarise(atraso15)
flights %>% group_by(sched_dep_time, dep_time) %>%
mutate(atraso15 = sched_dep_time - dep_time) %>%
filter(!is.na(atraso15)) %>% filter(atraso15 == - 15) %>% summarise(atraso15)
flights %>% group_by(sched_dep_time, dep_time) %>%
mutate(atraso15 = sched_dep_time - dep_time) %>%
filter(!is.na(atraso15)) %>% filter(atraso15 == - 10) %>% summarise(atraso15)
flights %>% group_by(sched_dep_time, dep_time) %>%
mutate(atraso15 = sched_dep_time - dep_time) %>%
filter(!is.na(atraso15)) %>% filter(atraso15 == 30) %>% summarise(atraso15)
flights %>% group_by(sched_dep_time, dep_time) %>%
mutate(atraso15 = sched_dep_time - dep_time) %>%
filter(!is.na(atraso15)) %>% filter(atraso15 == -30) %>% summarise(atraso15)
flights %>% group_by(sched_dep_time, dep_time) %>%
mutate(atraso15 = sched_dep_time - dep_time) %>%
filter(!is.na(atraso15)) %>% filter(atraso15 == 0) %>% summarise(atraso15)
flights %>% group_by(sched_dep_time, dep_time) %>%
mutate(atraso15 = sched_dep_time - dep_time) %>%
filter(!is.na(atraso15)) %>% filter(atraso15 == 200) %>% summarise(atraso15)
flights %>% group_by(sched_dep_time, dep_time) %>%
mutate(atraso15 = sched_dep_time - dep_time) %>%
filter(!is.na(atraso15)) %>% filter(atraso15 == 200) %>% summarise(atraso15)
flights %>% group_by(sched_dep_time, dep_time) %>%
mutate(atraso15 = sched_dep_time - dep_time) %>%
filter(!is.na(atraso15)) %>% filter(atraso15 == 200) %>% summarise(atraso15)
flights %>% group_by(sched_dep_time, dep_time) %>%
mutate(atraso15 = sched_dep_time - dep_time) %>%
filter(!is.na(atraso15)) %>% filter(atraso15 == 120) %>% summarise(atraso15)
flights %>% group_by(sched_dep_time, dep_time) %>%
mutate(atraso15 = sched_dep_time - dep_time) %>%
filter(!is.na(atraso15)) %>% filter(atraso15 == 60) %>% summarise(atraso15)
flights %>% group_by(sched_dep_time, dep_time) %>%
mutate(atraso15 = sched_dep_time - dep_time) %>%
filter(!is.na(atraso15)) %>% filter(atraso15 == -120) %>% summarise(atraso15)
flights %>% group_by(sched_dep_time, dep_time) %>%
mutate(atraso15 = sched_dep_time - dep_time) %>%
filter(!is.na(atraso15) & atraso15 == -120)  %>% summarise(atraso15)
flights %>% group_by(sched_dep_time, dep_time) %>%
mutate(atraso15 = sched_dep_time - dep_time) %>%
filter(!is.na(atraso15) & atraso15 == 120)  %>% summarise(atraso15)
flights %>% group_by(sched_dep_time, dep_time) %>%
mutate(atraso15 = sched_dep_time - dep_time) %>%
filter(!is.na(atraso15) & atraso15 == 60)  %>% summarise(atraso15)
flights %>% group_by(sched_dep_time, dep_time) %>%
mutate(atraso15 = sched_dep_time - dep_time) %>%
filter(!is.na(atraso15) & atraso15 == 60)
flights %>% group_by(sched_dep_time, dep_time) %>%
mutate(atraso15 = sched_dep_time - dep_time, !is.na(atraso15)) %>%
filter( atraso15 == 60)  %>% summarise(atraso15)
flights %>% group_by(sched_dep_time, dep_time) %>%
mutate(atraso15 = sched_dep_time - dep_time, !is.na(atraso15)) %>%
filter( atraso15 == -120)  %>% summarise(atraso15)
flights %>% group_by(sched_dep_time, dep_time) %>%
mutate(atraso15 = sched_dep_time - dep_time, !is.na(atraso15)) %>%
filter( atraso15 == -120)
flights %>% group_by(sched_dep_time, dep_time) %>%
mutate(atraso15 = sched_dep_time - dep_time, !is.na(atraso15)) %>%
filter( atraso15 == -120) %>% summarise(atraso15)
not_cancelled
mutate(atraso15 = sched_dep_time - dep_time, !is.na(atraso15) %>%
flights %>% group_by(sched_dep_time, dep_time) %>%
mutate(atraso15 = sched_dep_time - dep_time, !is.na(atraso15)) %>%
filter(atraso15 == 15) %>% summarise(atraso15)
flights %>% group_by(sched_dep_time, dep_time) %>%
flights %>% group_by(sched_dep_time, dep_time) %>%
mutate(atraso15 = sched_dep_time - dep_time,!is.na(atraso15)) %>%
filter(atraso15 == 15) %>% summarise(atraso15)
flights %>% group_by(sched_dep_time, dep_time) %>%
mutate(atraso15 = sched_dep_time - dep_time, !is.na(atraso15)) %>%
filter(atraso15 == 15) %>% summarise(atraso15)
flights %>% group_by(sched_dep_time, dep_time) %>%
mutate(atraso15 = sched_dep_time - dep_time, !is.na(atraso15)) %>%
filter(atraso15 == 15) %>% summarise(atraso15)
flights %>% group_by(sched_dep_time, dep_time) %>%
mutate(atraso15 = sched_dep_time - dep_time, !is.na(atraso15)) %>%
filter( atraso15 == -120) %>% summarise(atraso15)
not_cancelled
not_cancelled %>% count(dest)
summarise(not_cancelled, dest, n())
summarise(not_cancelled, n(dest))
summarise(not_cancelled, dest)
summarise(not_cancelled, dest, cont = n())
not_cancelled %>% count(dest)
not_cancelled %>% count(desc(dest))
not_cancelled %>% count(dest)
not_cancelled %>% group_by(dest) %>% summarise(tot = n())
not_cancelled %>% coutn(tailnum, wt = distance)
not_cancelled %>% count(tailnum, wt = distance)
not_cancelled %>% group_by(tailnum) %>% filter(distance) %>% summarise(tot = n())
not_cancelled %>% count(tailnum, wt = distance)
not_cancelled %>% group_by(tailnum) %>% summarise(tot = sum(distance))
not_cancelled %>% count(tailnum, wt = distance)
not_cancelled %>% group_by(tailnum) %>% summarise(tot = sum(distance))
(is.na(dep_delay)|(is.na(arr_delay)))
?is.na
flights
flights$is.na(dep_delay)
flights$dep_delay
flights
summarise(is.na(dep_delay)|(is.na(arr_delay)))
?summarise
summarise(flights, is.na(dep_delay)|(is.na(arr_delay)))
flights %>% group_by(sched_dep_time) %>% summarise(cancelados = is.na(sched_dep_time))
flights %>% group_by(sched_dep_time) %>% summarise(cancelados = sum(is.na(sched_dep_time)))
flights %>% group_by(sched_dep_time) %>% filter(is.na(sched_dep_time))
flights %>% group_by(sched_dep_time) %>% mutate(cancelado = is.na(sched_dep_time)) %>%
summarise(cancelado)
flights %>% group_by(sched_dep_time) %>% mutate(cancelado = is.na(sched_dep_time)) %>%
filter(cancelado != 0) %>% summarise(cancelado)
flights %>% group_by(sched_dep_time) %>% mutate(cancelado = is.na(sched_dep_time)) %>%
filter(cancelado != 0)
flights %>% group_by(sched_dep_time) %>% mutate(cancelado = is.na(sched_dep_time)) %>%
filter(cancelado == 0)
flights %>% group_by(sched_dep_time) %>% mutate(cancelado = is.na(sched_dep_time)) %>%
filter(cancelado != 0)
flights %>% group_by(carrier, dest) %>% summarise(n())
flights %>% group_by(carrier, dest, dep_delay, arr_delay) %>% summarise(n())
flights %>% group_by(carrier, dest, dep_delay, arr_delay) %>% summarise(n())
not_cancelled %>% sort(count(dest))
not_cancelled %>% count(dest)
not_cancelled %>% count(sort(dest))
flights %>% group_by(dest, sched_dep_time, dep_time) %>%
mutate(atraso15 = sched_dep_time - dep_time, !is.na(atraso15)) %>% summarise(atraso15)
flights %>% group_by(dest, sched_dep_time, dep_time) %>%
mutate(atraso15 = sched_dep_time - dep_time, !is.na(atraso15)) %>%
summarise(atraso15, n = n())
flights %>% group_by(dest, sched_dep_time, dep_time) %>%
mutate(atraso15 = sched_dep_time - dep_time, !is.na(atraso15)) %>%
summarise(sum(atraso15))
flights %>% group_by(carrier, dest, dep_delay, arr_delay) %>% summarise(n())
not_cancelled %>% count(tailnum, wt = distance)
flights %>% group_by(dest, sched_dep_time, dep_time) %>%
mutate(atraso15 = sched_dep_time - dep_time, !is.na(atraso15)) %>%
summarise(count(atraso15))
flights %>% group_by(dest, sched_dep_time, dep_time) %>%
mutate(atraso15 = sched_dep_time - dep_time, !is.na(atraso15)) %>% count(atraso15)
flights %>% group_by(dest, sched_dep_time, dep_time) %>% count(dest)
flights %>% group_by(dest, sched_dep_time, dep_time) %>% count(dest)
not_cancelled %>% count(dest)
flights %>% group_by(dest, sched_dep_time, dep_time) %>% count(dest)
flights %>% count(dest)
flights %>% count(dest) %>% group_by(dest)
flights %>% count(dest) %>% summarise(atrso = sched_dep_time - dep_time)
flights %>% count(dest) %>% summarise(atrso = sched_dep_time - dep_time, n())
flights %>% count(dest) %>% mutate(atraso = sched_dep_time - dep_time, n())
flights %>% count(dest) %>% mutate(atraso = sched_dep_time - dep_time)
flights %>% count(dest,atraso = sched_dep_time - dep_time )
flights %>% count(dest) %>% mutete(atraso = sched_dep_time - dep_time )
flights %>% count(dest) %>% mutate(atraso = sched_dep_time - dep_time )
flights %>% count(dest) %>% summarise(atraso = sched_dep_time - dep_time )
flights %>% count(dest) %>% group_by(dest,sched_dep_time, dep_time ) summarise(atraso = sched_dep_time - dep_time )
flights %>% count(dest) %>% group_by(dest, sched_dep_time, dep_time ) %>%
summarise(atraso = sched_dep_time - dep_time )
flights  %>% group_by(dest, sched_dep_time, dep_time ) %>%
summarise(atraso = sched_dep_time - dep_time )%>% count(dest)
flights  %>% group_by(dest, sched_dep_time, dep_time ) %>%
mutate(atraso = sched_dep_time - dep_time ) %>% summarise(atraso)
#mutate(atraso15 = sched_dep_time - dep_time, !is.na(atraso15)) %>% count(atraso15)
flights %>% group_by(dest) %>% summarise(n())
flights  %>% group_by(dest, sched_dep_time, dep_time ) %>%
summarise(atraso = sched_dep_time - dep_time )
flights  %>% group_by(dest, sched_dep_time, dep_time ) %>%
summarise(count = n(),atraso = sched_dep_time - dep_time )
flights  %>% group_by(dest) %>%
summarise(count = n(),atraso = sched_dep_time - dep_time )
flights  %>% group_by(dest) %>%
summarise(count = n(), atraso = sched_dep_time - dep_time, na.rm = TRUE )
flights  %>% group_by(dest) %>%
summarise(count = n(),sum(sched_dep_time - dep_time, na.rm = TRUE) )
flights  %>% group_by(dest) %>%
summarise(count = n(),atraso = sum(sched_dep_time - dep_time, na.rm = TRUE) )
#mutate(atraso15 = sched_dep_time - dep_time, !is.na(atraso15)) %>% count(atraso15)
flights %>% group_by(dest) %>% summarise(n())
flights  %>% group_by(dest) %>%
summarise(count = n(),atraso = sum(sched_dep_time - dep_time, na.rm = TRUE) )
#mutate(atraso15 = sched_dep_time - dep_time, !is.na(atraso15)) %>% count(atraso15)
flights %>% group_by(dest) %>% summarise(n())
flights  %>% group_by(dest) %>%
summarise(count = n(),atraso = sum(sched_dep_time - dep_time, na.rm = TRUE) )
flights %>% group_by(dest) %>% summarise(atraso = sum(sched_dep_time - dep_time, na.rm = TRUE))
flights %>% group_by(dest, sched_dep_time, dep_time) %>%
summarise(atraso = sum(sched_dep_time - dep_time, na.rm = TRUE))
flights %>% group_by(dest, sched_dep_time, dep_time) %>%
summarise(atraso = sum(sched_dep_time - dep_time, na.rm = TRUE))
flights  %>% group_by(dest) %>%
summarise(count = n(),atraso = sum(sched_dep_time - dep_time, na.rm = TRUE) )
flights  %>% group_by(dest) %>%
summarise(count = n(),atraso_total = sum(sched_dep_time - dep_time, na.rm = TRUE) )
flights %>% group_by(dest, sched_dep_time, dep_time) %>%
summarise(atraso = sum(sched_dep_time - dep_time, na.rm = TRUE),
diferenca = atraso - lag(atraso))
(diferenca = atraso - lag(atraso), na.rm = TRUE)
(diferenca = atraso - lag(atraso), na.rm = TRUE)
(diferenca = atraso - lag(atraso))
flights %>% group_by(dest, sched_dep_time, dep_time) %>%
summarise(atraso = sum(sched_dep_time - dep_time, na.rm = TRUE),
diferenca = atraso - lag(atraso))
flights %>% group_by(dest, sched_dep_time, dep_time) %>%
summarise(atraso = sum(sched_dep_time - dep_time, na.rm = TRUE),
diferenca = atraso - lag(atraso)) %>% filter(!is.na(diferenca))
flights %>% group_by(dest, sched_dep_time, dep_time) %>%
summarise(atraso = sum(sched_dep_time - dep_time, na.rm = TRUE),
diferenca = atraso - lag(atraso), filter(!is.na(diferenca)))
flights %>% group_by(dest, sched_dep_time, dep_time) %>%
summarise(atraso = sum(sched_dep_time - dep_time, na.rm = TRUE),
diferenca = atraso - lag(atraso))
filter(dog, !is.na(diferenca))
filter(dog,!is.na(diferenca))
summarise(dog,!is.na(diferenca))
dog <- flights %>% group_by(dest, sched_dep_time, dep_time) %>%
summarise(atraso = sum(sched_dep_time - dep_time, na.rm = TRUE),
diferenca = atraso - lag(atraso))
summarise(dog,!is.na(diferenca))
dog <- flights %>% group_by(dest, sched_dep_time, dep_time) %>%
summarise(atraso = sum(sched_dep_time - dep_time, na.rm = TRUE),
diferenca = atraso - lag(atraso))
dog <- flights %>% group_by(dest, sched_dep_time, dep_time) %>%
summarise(atraso = sum(sched_dep_time - dep_time, na.rm = TRUE),
diferenca = atraso - lag(atraso))
flights %>% group_by(dest, sched_dep_time, dep_time) %>%
summarise(atraso = sum(sched_dep_time - dep_time, na.rm = TRUE),
diferenca = atraso - lag(atraso)) %>% summarise(dog,!is.na(diferenca))
flights %>% group_by(dest, sched_dep_time, dep_time) %>%
summarise(atraso = sum(sched_dep_time - dep_time, na.rm = TRUE),
diferenca = atraso - lag(atraso),!is.na(diferenca) )
flights %>% group_by(dest, sched_dep_time, dep_time) %>%
summarise(atraso = sum(sched_dep_time - dep_time, na.rm = TRUE),
diferenca = atraso - lag(atraso) ) %>% summarise(!is.na(diferenca))
flights %>% group_by(dest, sched_dep_time, dep_time) %>%
summarise(atraso = sum(sched_dep_time - dep_time, na.rm = TRUE),
diferenca = atraso - lag(atraso)) %>% filter(!is.na(diferenca))
flights %>% group_by(dest, sched_dep_time, dep_time) %>%
summarise(atraso = sum(sched_dep_time - dep_time, na.rm = TRUE),
diferenca = atraso - lag(atraso))
dogs <-  flights %>% group_by(dest, sched_dep_time, dep_time) %>%
summarise(atraso = sum(sched_dep_time - dep_time, na.rm = TRUE),
diferenca = atraso - lag(atraso))
dogs
summarise(dogs,!is.na(diferenca))
dogs <-  flights %>% group_by(dest, sched_dep_time, dep_time) %>%
summarise(atraso = sum(sched_dep_time - dep_time, na.rm = TRUE),
diferenca = atraso - lag(atraso, na.rm = TRUE))
dogs
dogs %>% filter(!is.na(diferenca))
dogs <-  flights %>% group_by(dest, sched_dep_time, dep_time) %>%
mutate(atraso = sum(sched_dep_time - dep_time, na.rm = TRUE),
diferenca = atraso - lag(atraso) ) %>%
summarise(!is.na(diferenca))
dogs <-  flights %>% group_by(dest, sched_dep_time, dep_time) %>%
mutate(atraso = sum(sched_dep_time - dep_time, na.rm = TRUE),
diferenca = atraso - lag(atraso) ) %>%
summarise(atraso, difernca,!is.na(diferenca))
dogs <-  flights %>% group_by(dest, sched_dep_time, dep_time) %>%
mutate(atraso = sum(sched_dep_time - dep_time, na.rm = TRUE),
diferenca = atraso - lag(atraso) ) %>%
summarise(atraso, difernca)
dogs <-  flights %>% group_by(dest, sched_dep_time, dep_time) %>%
mutate(atraso = sum(sched_dep_time - dep_time, na.rm = TRUE),
diferenca = atraso - lag(atraso) ) %>%
summarise(atraso, diferenca)
dogs <-  flights %>% group_by(dest, sched_dep_time, dep_time) %>%
summarise(atraso = sum(sched_dep_time - dep_time, na.rm = TRUE),
diferenca = atraso - lag(atraso))
flights %>% group_by(dest, sched_dep_time, dep_time) %>%
summarise(atraso = sum(sched_dep_time - dep_time, na.rm = TRUE),
diferenca = atraso - lag(atraso))
source("C:/Users/Ivo/Downloads/Linguagem R/R_para_Data_Science/chapter3/chapter3.R")
source("C:/Users/Ivo/Downloads/Linguagem R/R_para_Data_Science/chapter3/chapter3.R")
